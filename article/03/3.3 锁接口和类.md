前面我们介绍了Java原生的锁——基于对象的锁，它一般是配合synchronized关键字来使用的。实际上，Java在`java.util.concurrent.locks`包下，还为我们提供了几个关于锁的类和接口。它们有更强大的功能或更高的性能。

我们先来看看synchronized有什么不足之处。

- 如果临界区是只读操作，其实可以多线程一起执行，但使用synchronized的话，同一时间只能有一个线程执行。
- synchronized无法知道线程有没有成功获取到锁
- 使用synchronized，如果临界区因为IO或者sleep方法等原因阻塞了，而当前线程又没有释放锁，就会导致所有线程等待。

# 锁的几种分类

锁可以根据以下几种方式来进行分类，下面我们逐一介绍。

## 1. 可重入锁和非可重入锁

## 2. 公平锁与非公平锁

## 3. 读锁与写锁

